\hypertarget{classKDTree}{}\doxysection{K\+D\+Tree$<$ d, T $>$ Class Template Reference}
\label{classKDTree}\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}


\mbox{\hyperlink{classKDTree}{K\+D\+Tree}} template class.  




{\ttfamily \#include $<$kdtree.\+h$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classKDNode}{K\+D\+Node}}$<$ d, T $>$ $>$ \mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classKDTree_ae6363981a91d4916125b15e0b0b5c2e8}{K\+D\+Tree}} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classKDTree_a0d95cf2b51557fb9c78bd999472349f8}{build}} (std\+::vector$<$ \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ $>$ \&pointvec)
\begin{DoxyCompactList}\small\item\em build tree from a vector of points \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \mbox{\hyperlink{classKDTree_aa1699eb41681cec03692d6528cf8a236}{insert}} (\mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&point)
\begin{DoxyCompactList}\small\item\em insert a point into the tree \end{DoxyCompactList}\item 
\mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \mbox{\hyperlink{classKDTree_a9baf255281226b41b6c75f39ddd9f624}{search}} (const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&point)
\begin{DoxyCompactList}\small\item\em retreive the closest point in the tree to a query point \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \mbox{\hyperlink{classKDTree_a9187750098aecbe3b33c6804163a7259}{search}} (const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&point, int i)
\item 
std\+::vector$<$ \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ $>$ \mbox{\hyperlink{classKDTree_aa257aa6c71592c605df5d0bc0db25dec}{neighborhood}} (const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&point, const double \&radius)
\begin{DoxyCompactList}\small\item\em get points in the tree that are with in radius units from the query point \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \mbox{\hyperlink{classKDTree_a64366a7b6ddce80ccf203723cb65bdd3}{build\+\_\+tree\+\_\+recursive}} (std\+::vector$<$ \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ $>$ \&pointvec, int l, int r, int id)
\begin{DoxyCompactList}\small\item\em recursive helper function to build tree from a point vector \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classKDTree_abb69670cc288f4567aa9ab4ecc588ef5}{search\+\_\+closest}} (\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \&cur\+\_\+root, const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&point, int id, \mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \&rnode, double \&min\+\_\+dist)
\begin{DoxyCompactList}\small\item\em recursive helper function to search for closest point in the tree to the query point \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classKDTree_a8be01ff90e7a294c60b9033cd6f193a0}{neighborhood\+\_\+recursive}} (\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \&cur\+\_\+root, const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&point, const double \&radius, int id, std\+::vector$<$ \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ $>$ \&neighbors)
\begin{DoxyCompactList}\small\item\em recursive helper function to retreive points in the tree that are within a radius of the query point \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}}
\begin{DoxyCompactList}\small\item\em @biref tree root ptr \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$unsigned int d, class T$>$\newline
class K\+D\+Tree$<$ d, T $>$}

\mbox{\hyperlink{classKDTree}{K\+D\+Tree}} template class. 

\mbox{\hyperlink{classKDTree}{K\+D\+Tree}} can be used to store k-\/dimensional data points and efficiently perform search operations ~\newline
 For example 3 dimensional real value points can be stored in a {\ttfamily \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$3, float$>$} type tree 

Definition at line 32 of file kdtree.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classKDTree_a737ce1eceaaef969da22da2d10a13890}\label{classKDTree_a737ce1eceaaef969da22da2d10a13890}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!KDNodePtr@{KDNodePtr}}
\index{KDNodePtr@{KDNodePtr}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{KDNodePtr}{KDNodePtr}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
typedef std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classKDNode}{K\+D\+Node}}$<$d, T$>$ $>$ \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}}}



Definition at line 35 of file kdtree.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classKDTree_ae6363981a91d4916125b15e0b0b5c2e8}\label{classKDTree_ae6363981a91d4916125b15e0b0b5c2e8}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!KDTree@{KDTree}}
\index{KDTree@{KDTree}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{KDTree()}{KDTree()}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
\mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::\mbox{\hyperlink{classKDTree}{K\+D\+Tree}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor. 



Definition at line 40 of file kdtree.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{40 : \mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}}(\textcolor{keyword}{nullptr}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classKDTree_a0d95cf2b51557fb9c78bd999472349f8}\label{classKDTree_a0d95cf2b51557fb9c78bd999472349f8}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!build@{build}}
\index{build@{build}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{build()}{build()}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
void \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::build (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ $>$ \&}]{pointvec }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



build tree from a vector of points 


\begin{DoxyParams}{Parameters}
{\em pointvec} & vector of points \\
\hline
\end{DoxyParams}


Definition at line 47 of file kdtree.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{48     \{}
\DoxyCodeLine{49         \mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}} = \mbox{\hyperlink{classKDTree_a64366a7b6ddce80ccf203723cb65bdd3}{build\_tree\_recursive}}(pointvec, 0, pointvec.size(), 0);}
\DoxyCodeLine{50     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classKDTree_aa1699eb41681cec03692d6528cf8a236}\label{classKDTree_aa1699eb41681cec03692d6528cf8a236}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!insert@{insert}}
\index{insert@{insert}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{insert()}{insert()}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::insert (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&}]{point }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



insert a point into the tree 


\begin{DoxyParams}{Parameters}
{\em point} & to be inserted \\
\hline
\end{DoxyParams}


Definition at line 57 of file kdtree.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{58     \{}
\DoxyCodeLine{59         \textcolor{keywordflow}{if}(\mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}}==\textcolor{keyword}{nullptr})}
\DoxyCodeLine{60         \{}
\DoxyCodeLine{61             \mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}} = std::make\_shared< KDNode<d, T> >(point);}
\DoxyCodeLine{62             \textcolor{keywordflow}{return} \mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}};}
\DoxyCodeLine{63         \}}
\DoxyCodeLine{64         \mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{KDNodePtr}} cur = \mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}};}
\DoxyCodeLine{65         \mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{KDNodePtr}} parent = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{66         \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = 0;}
\DoxyCodeLine{67         \textcolor{keywordflow}{while}(cur != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{68         \{}
\DoxyCodeLine{69             parent = cur;}
\DoxyCodeLine{70             \textcolor{keywordflow}{if}(point[\textcolor{keywordtype}{id}] < cur-\/>point[\textcolor{keywordtype}{id}]) cur = cur-\/>left;}
\DoxyCodeLine{71             \textcolor{keywordflow}{else} cur = cur-\/>right;}
\DoxyCodeLine{72             \textcolor{keywordtype}{id} = (\textcolor{keywordtype}{id}+1)\%d;}
\DoxyCodeLine{73         \}}
\DoxyCodeLine{74         \textcolor{keywordflow}{if}(point[\textcolor{keywordtype}{id}] < parent-\/>point[\textcolor{keywordtype}{id}]) }
\DoxyCodeLine{75         \{}
\DoxyCodeLine{76             parent-\/>left = std::make\_shared< KDNode<d, T> >(point);}
\DoxyCodeLine{77             \textcolor{keywordflow}{return} parent-\/>left;}
\DoxyCodeLine{78         \}}
\DoxyCodeLine{79         \textcolor{keywordflow}{else} }
\DoxyCodeLine{80         \{}
\DoxyCodeLine{81             parent-\/>right = std::make\_shared< KDNode<d, T> >(point);}
\DoxyCodeLine{82             \textcolor{keywordflow}{return} parent-\/>right;}
\DoxyCodeLine{83         \}}
\DoxyCodeLine{84     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classKDTree_a9baf255281226b41b6c75f39ddd9f624}\label{classKDTree_a9baf255281226b41b6c75f39ddd9f624}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!search@{search}}
\index{search@{search}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{search()}{search()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
\mbox{\hyperlink{classPoint}{Point}}$<$d, T$>$ \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::search (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&}]{point }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



retreive the closest point in the tree to a query point 


\begin{DoxyParams}{Parameters}
{\em point} & query point\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns a point in the tree that is closest to the query point
\end{DoxyReturn}
\begin{DoxyNote}{Note}
if multiple closest points exist only one of them is returned. If all the closest points are needed, retrieve them using neighborhood with input search radius = distance to this closest point 
\end{DoxyNote}


Definition at line 95 of file kdtree.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{96     \{}
\DoxyCodeLine{97         \mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{KDNodePtr}} rnode = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{98         \textcolor{keywordtype}{double} min\_dist = 0.0;}
\DoxyCodeLine{99         \mbox{\hyperlink{classKDTree_abb69670cc288f4567aa9ab4ecc588ef5}{search\_closest}}(\mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}}, point, 0, rnode, min\_dist);}
\DoxyCodeLine{100         \textcolor{keywordflow}{return} rnode-\/>point;}
\DoxyCodeLine{101     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classKDTree_a9187750098aecbe3b33c6804163a7259}\label{classKDTree_a9187750098aecbe3b33c6804163a7259}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!search@{search}}
\index{search@{search}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{search()}{search()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::search (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&}]{point,  }\item[{int}]{i }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.

retrive the node corresponding to the closest point in the tree to the query point 

Definition at line 108 of file kdtree.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{109     \{}
\DoxyCodeLine{110         \mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{KDNodePtr}} rnode = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{111         \textcolor{keywordtype}{double} min\_dist = 0.0;}
\DoxyCodeLine{112         \mbox{\hyperlink{classKDTree_abb69670cc288f4567aa9ab4ecc588ef5}{search\_closest}}(\mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}}, point, 0, rnode, min\_dist);}
\DoxyCodeLine{113         \textcolor{keywordflow}{return} rnode;}
\DoxyCodeLine{114     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classKDTree_aa257aa6c71592c605df5d0bc0db25dec}\label{classKDTree_aa257aa6c71592c605df5d0bc0db25dec}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!neighborhood@{neighborhood}}
\index{neighborhood@{neighborhood}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{neighborhood()}{neighborhood()}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
std\+::vector$<$ \mbox{\hyperlink{classPoint}{Point}}$<$d, T$>$ $>$ \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::neighborhood (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&}]{point,  }\item[{const double \&}]{radius }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



get points in the tree that are with in radius units from the query point 


\begin{DoxyParams}{Parameters}
{\em point} & query point \\
\hline
{\em radius} & search radius\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns vector of points that are within radius units from the input query point 
\end{DoxyReturn}


Definition at line 124 of file kdtree.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{125     \{}
\DoxyCodeLine{126         std::vector< Point<d, T> > neighbors;}
\DoxyCodeLine{127         \mbox{\hyperlink{classKDTree_a8be01ff90e7a294c60b9033cd6f193a0}{neighborhood\_recursive}}(\mbox{\hyperlink{classKDTree_adf955d75e777700003ca38f9a3b14148}{root}}, point, radius, 0, neighbors);}
\DoxyCodeLine{128         \textcolor{keywordflow}{return} neighbors;}
\DoxyCodeLine{129     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classKDTree_a64366a7b6ddce80ccf203723cb65bdd3}\label{classKDTree_a64366a7b6ddce80ccf203723cb65bdd3}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!build\_tree\_recursive@{build\_tree\_recursive}}
\index{build\_tree\_recursive@{build\_tree\_recursive}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{build\_tree\_recursive()}{build\_tree\_recursive()}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::build\+\_\+tree\+\_\+recursive (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ $>$ \&}]{pointvec,  }\item[{int}]{l,  }\item[{int}]{r,  }\item[{int}]{id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



recursive helper function to build tree from a point vector 


\begin{DoxyParams}{Parameters}
{\em pointvec} & vector of points \\
\hline
{\em l} & start index of the vector \\
\hline
{\em r} & end index the vector \\
\hline
{\em id} & current search dimension\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
builds tree using the vector between indices \mbox{[}l, r) 
\end{DoxyNote}


Definition at line 145 of file kdtree.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{146     \{}
\DoxyCodeLine{147         \textcolor{keywordflow}{if}(r<=l) \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{148         \textcolor{keywordtype}{int} m = l+(r-\/l)/2;}
\DoxyCodeLine{149         \textcolor{comment}{// O(n) partition such that elements to the left are < than element at pivot position and elements to the right are >= to element at pivot position}}
\DoxyCodeLine{150         std::nth\_element(pointvec.begin()+l, pointvec.begin()+m, pointvec.begin()+r, [\&\textcolor{keywordtype}{id}](\mbox{\hyperlink{classPoint}{Point<d, T>}}\& a, \mbox{\hyperlink{classPoint}{Point<d, T>}}\& b)\{}
\DoxyCodeLine{151             return a[id]<b[id];}
\DoxyCodeLine{152         \});}
\DoxyCodeLine{153         \mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{KDNodePtr}} cur\_root = std::make\_shared< KDNode<d, T> >(pointvec[m]);}
\DoxyCodeLine{154         \textcolor{keywordtype}{id} = (\textcolor{keywordtype}{id}+1)\%d;}
\DoxyCodeLine{155         \textcolor{comment}{// recursively build tree for left and right branches}}
\DoxyCodeLine{156         cur\_root-\/>left = \mbox{\hyperlink{classKDTree_a64366a7b6ddce80ccf203723cb65bdd3}{build\_tree\_recursive}}(pointvec, l, m, \textcolor{keywordtype}{id});}
\DoxyCodeLine{157         cur\_root-\/>right = \mbox{\hyperlink{classKDTree_a64366a7b6ddce80ccf203723cb65bdd3}{build\_tree\_recursive}}(pointvec, m+1, r, \textcolor{keywordtype}{id});}
\DoxyCodeLine{158         \textcolor{keywordflow}{return} cur\_root;}
\DoxyCodeLine{159     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classKDTree_abb69670cc288f4567aa9ab4ecc588ef5}\label{classKDTree_abb69670cc288f4567aa9ab4ecc588ef5}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!search\_closest@{search\_closest}}
\index{search\_closest@{search\_closest}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{search\_closest()}{search\_closest()}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
void \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::search\+\_\+closest (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \&}]{cur\+\_\+root,  }\item[{const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&}]{point,  }\item[{int}]{id,  }\item[{\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \&}]{rnode,  }\item[{double \&}]{min\+\_\+dist }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



recursive helper function to search for closest point in the tree to the query point 


\begin{DoxyParams}{Parameters}
{\em cur\+\_\+root} & current root to recurse from \\
\hline
{\em point} & query point \\
\hline
{\em id} & current search dimension \\
\hline
{\em rnode} & probable result node, it gets updated based on current distance \\
\hline
{\em min\+\_\+dist} & probable minimum distance to the query point from any node in the tree \\
\hline
\end{DoxyParams}


Definition at line 170 of file kdtree.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{171     \{}
\DoxyCodeLine{172         \textcolor{keywordflow}{if}(cur\_root==\textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{173         \textcolor{keywordtype}{double} dist = point.\mbox{\hyperlink{classPoint_a6c7c73a9b2a970f8b91e8c2d647b60c3}{distance\_to}}(cur\_root-\/>point);}
\DoxyCodeLine{174         \textcolor{comment}{// update minimum distance and result node if current distance < current minimum distance}}
\DoxyCodeLine{175         \textcolor{keywordflow}{if}(rnode==\textcolor{keyword}{nullptr} || dist < min\_dist)}
\DoxyCodeLine{176         \{}
\DoxyCodeLine{177             min\_dist = dist;}
\DoxyCodeLine{178             rnode = cur\_root;}
\DoxyCodeLine{179         \}}
\DoxyCodeLine{180         \textcolor{keywordflow}{if}(dist==0) \textcolor{keywordflow}{return}; \textcolor{comment}{// exact node is found}}
\DoxyCodeLine{181         \textcolor{comment}{// check if a closer point can exist in left branch}}
\DoxyCodeLine{182         \textcolor{keywordflow}{if}(point[\textcolor{keywordtype}{id}]-\/min\_dist <= cur\_root-\/>point[\textcolor{keywordtype}{id}]) \mbox{\hyperlink{classKDTree_abb69670cc288f4567aa9ab4ecc588ef5}{search\_closest}}(cur\_root-\/>left, point, (\textcolor{keywordtype}{id}+1)\%d, rnode, min\_dist);}
\DoxyCodeLine{183         \textcolor{comment}{// check if a closer point can exist in right branch}}
\DoxyCodeLine{184         \textcolor{keywordflow}{if}(point[\textcolor{keywordtype}{id}]+min\_dist >= cur\_root-\/>point[\textcolor{keywordtype}{id}]) \mbox{\hyperlink{classKDTree_abb69670cc288f4567aa9ab4ecc588ef5}{search\_closest}}(cur\_root-\/>right, point, (\textcolor{keywordtype}{id}+1)\%d, rnode, min\_dist);}
\DoxyCodeLine{185     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classKDTree_a8be01ff90e7a294c60b9033cd6f193a0}\label{classKDTree_a8be01ff90e7a294c60b9033cd6f193a0}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!neighborhood\_recursive@{neighborhood\_recursive}}
\index{neighborhood\_recursive@{neighborhood\_recursive}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{neighborhood\_recursive()}{neighborhood\_recursive()}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
void \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::neighborhood\+\_\+recursive (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \&}]{cur\+\_\+root,  }\item[{const \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ \&}]{point,  }\item[{const double \&}]{radius,  }\item[{int}]{id,  }\item[{std\+::vector$<$ \mbox{\hyperlink{classPoint}{Point}}$<$ d, T $>$ $>$ \&}]{neighbors }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



recursive helper function to retreive points in the tree that are within a radius of the query point 


\begin{DoxyParams}{Parameters}
{\em cur\+\_\+root} & current root to recurse from \\
\hline
{\em point} & query point \\
\hline
{\em radius} & search radius around the query point \\
\hline
{\em id} & current search dimension \\
\hline
{\em neighbors} & vector of neighbors in the search area of the query point \\
\hline
\end{DoxyParams}


Definition at line 196 of file kdtree.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{197     \{}
\DoxyCodeLine{198         \textcolor{keywordflow}{if}(cur\_root==\textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{199         \textcolor{comment}{// if distance between cur\_root and query point <= radius, add cur\_root to neighbors}}
\DoxyCodeLine{200         \textcolor{keywordtype}{double} dist = point.\mbox{\hyperlink{classPoint_a6c7c73a9b2a970f8b91e8c2d647b60c3}{distance\_to}}(cur\_root-\/>point);}
\DoxyCodeLine{201         \textcolor{keywordflow}{if}(dist<=radius) neighbors.push\_back(cur\_root-\/>point);}
\DoxyCodeLine{202         \textcolor{comment}{// check if neighbor can exist in left branch}}
\DoxyCodeLine{203         \textcolor{keywordflow}{if}(point[\textcolor{keywordtype}{id}]-\/radius <= cur\_root-\/>point[\textcolor{keywordtype}{id}]) \mbox{\hyperlink{classKDTree_a8be01ff90e7a294c60b9033cd6f193a0}{neighborhood\_recursive}}(cur\_root-\/>left, point, radius, (\textcolor{keywordtype}{id}+1)\%d, neighbors);}
\DoxyCodeLine{204         \textcolor{comment}{// check if neighbor can exist in right branch}}
\DoxyCodeLine{205         \textcolor{keywordflow}{if}(point[\textcolor{keywordtype}{id}]+radius >= cur\_root-\/>point[\textcolor{keywordtype}{id}]) \mbox{\hyperlink{classKDTree_a8be01ff90e7a294c60b9033cd6f193a0}{neighborhood\_recursive}}(cur\_root-\/>right, point, radius, (\textcolor{keywordtype}{id}+1)\%d, neighbors);}
\DoxyCodeLine{206     \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classKDTree_adf955d75e777700003ca38f9a3b14148}\label{classKDTree_adf955d75e777700003ca38f9a3b14148}} 
\index{KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}!root@{root}}
\index{root@{root}!KDTree$<$ d, T $>$@{KDTree$<$ d, T $>$}}
\doxysubsubsection{\texorpdfstring{root}{root}}
{\footnotesize\ttfamily template$<$unsigned int d, class T $>$ \\
\mbox{\hyperlink{classKDTree_a737ce1eceaaef969da22da2d10a13890}{K\+D\+Node\+Ptr}} \mbox{\hyperlink{classKDTree}{K\+D\+Tree}}$<$ d, T $>$\+::root\hspace{0.3cm}{\ttfamily [private]}}



@biref tree root ptr 



Definition at line 133 of file kdtree.\+h.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/data\+\_\+structures/\mbox{\hyperlink{kdtree_8h}{kdtree.\+h}}\end{DoxyCompactItemize}
